# 红黑树

* 应用：map、set、multiset、multimap的底层实现都是红黑树
* 定义和性质
红黑树是一种含有红黑结点并能自平衡的二叉查找树（从根到叶节点的最长路径不超过最短路径的2倍）。
（二叉查找树：若左子树不空，则左子树上所有节点的值都小于它的根节点的值；若右子树不空，则右子树所有节点的值都大于根节点的值；左、右子树也分别为二叉排序树；没有键值相等的节点，**查找所需的次数等于二叉树的高度**，可能不平衡，查找性能打折扣，变成线性的）
（堆：是一种特殊的数据结构，通常被看作一棵树的数组对象，堆总是满足两点性质，1. 堆中某个结点的值总是不大于或不小于其父结点的值，2. 堆总是一棵完全二叉树）
（完全二叉树：树中所含的n个节点和满二叉树中编号为1至n的节点一一对应。）
（满二叉树：指的是深度为K且含有2^k-1个节点的二叉树）
红黑树首先是一棵搜索二叉树，树中的每一个结点的颜色不是黑色就是红色。它的特性如下：
  1、根节点是黑色
  2、每一个结点不是黑色就是红色
  3、不能有连续的两个红色结点
  4、从任意一个结点出发，到后代中空指针的路径上，均包含相同数量的黑色结
  5、每个叶子节点都是黑色的空节点
维持自平衡的操作：变色，左旋，右旋
* 左旋：以某个结点作为支点(旋转结点)，其右子结点变为旋转结点的父结点，右子结点的左子结点变为旋转结点的右子结点，左子结点保持不变。如图3。
* 右旋：以某个结点作为支点(旋转结点)，其左子结点变为旋转结点的父结点，左子结点的右子结点变为旋转结点的左子结点，右子结点保持不变。如图4。
* 变色：结点的颜色由红变黑或由黑变红
![4e1fff4b358ffdaf817b4102e6127af9.png](en-resource://database/1218:0)
![d7ba52f4fa88a7af1bbed5b310ab09df.png](en-resource://database/1220:0)

* 红黑树查找
![2ec34ede4ba9c62497a081c2c26d542a.png](en-resource://database/1222:0)